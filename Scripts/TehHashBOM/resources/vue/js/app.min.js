(function(t){function e(e){for(var n,s,o=e[0],l=e[1],c=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"blue-grey lighten-5",height:"128","hide-on-scroll":""}},[a("div",{staticClass:"d-flex align-center"},[a("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Logo",contain:"",src:t.getPath("Icon_128.png"),transition:"scale-transition",width:"128"}})],1),a("v-toolbar-title",[t._v("Teh Hash BOM")]),a("v-spacer")],1),a("v-main",{staticClass:"pb-5"},[a("BomTable")],1),a("v-footer",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(" "+t._s((new Date).toLocaleDateString())+" "+t._s((new Date).toLocaleTimeString())+" â€” Teh Hash BOM ")])],1)],1)},r=[],s=a("d4ec"),o=a("bee2"),l=a("262e"),c=a("2caf"),u=a("9ab4"),d=a("1b40"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("h3",{staticClass:"title py-10"},[t._v("BOM Items")]),a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersBOM,items:t.getBomItems(),"item-key":"id","disable-pagination":"","hide-default-footer":""},scopedSlots:t._u([{key:"item.image",fn:function(t){var e=t.item;return[a("div",{staticClass:"p-2"},[a("v-img",{attrs:{contain:"",src:e.image,alt:e.name,"max-height":"128","max-width":"128"}})],1)]}}])})],1)],1),a("h3",{staticClass:"title py-10"},[t._v("Profiles")]),a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1 mb-5",attrs:{headers:t.headers,items:t.getProfiles(-1),"item-key":"id","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:t._u([{key:"item.image",fn:function(t){var e=t.item;return[a("div",{staticClass:"p-2"},[a("v-img",{attrs:{contain:"",src:e.image,alt:e.name,"max-height":"128","max-width":"128"}})],1)]}}]),model:{value:t.selectedItems,callback:function(e){t.selectedItems=e},expression:"selectedItems"}}),a("div",{staticClass:"text-center pt-2"},[a("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},on:{click:t.addToLayout}},[t._v(" Add to layout ")])],1)],1)],1),t._l(t.profileLayouts,(function(e,n){return a("div",{key:"entity-"+n},[a("h3",{staticClass:"subtitle-1 py-5"},[t._v("Profile Layout")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.getProfiles(n),"item-key":"id","disable-pagination":"","hide-default-footer":""},scopedSlots:t._u([{key:"item.image",fn:function(t){var e=t.item;return[a("div",{staticClass:"p-2"},[a("v-img",{attrs:{contain:"",src:e.image,alt:e.name,"max-height":"128","max-width":"128"}})],1)]}},{key:"item.layout_index",fn:function(e){var n=e.item;return[a("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},on:{click:function(e){return t.clearLayout(n)}}},[t._v(" Delete from layout ")])]}}],null,!0)})],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[a("v-card",{ref:"form",refInFor:!0},[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card-text",[a("v-text-field",{attrs:{label:"raw bar length"},model:{value:e.max_length,callback:function(a){t.$set(e,"max_length",a)},expression:"entity.max_length"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card-text",[a("v-text-field",{attrs:{label:"cut with"},model:{value:e.spacing,callback:function(a){t.$set(e,"spacing",a)},expression:"entity.spacing"}})],1)],1)],1)],1),a("v-divider",{staticClass:"mt-2"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(a){return t.recalculateLayout(n,e.max_length,e.spacing)}}},[t._v(" Recalculate ")])],1)],1)],1)],1),a("v-row",{staticClass:"pb-5",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[t.getLayoutBars(n).length>0||t.getUnfitedChunks(n).length>0?a("v-card",{staticClass:"pa-2",attrs:{outlined:""}},[t.getUnfitedChunks(n).length>0?a("v-alert",{attrs:{type:"error"}},[t._v(" Unfited Chunks: "),t._l(t.getUnfitedChunks(n),(function(e,n){return a("v-chip",{key:"UnfitedChunk-"+n},[t._v(" "+t._s(e)+" ")])}))],2):t._e(),t._l(t.getLayoutBars(n),(function(e,n){return a("div",{key:"lay-"+n},[a("v-card-subtitle",[t._v(" #"+t._s(n+1)+" len:"+t._s(e.length)+" ")]),a("v-card-text",[a("table",{staticClass:"blue-grey darken-1",staticStyle:{width:"100%"},attrs:{border:"0"}},[a("tr",[t._l(e.chunks,(function(n,i){return a("td",{key:"chunk-"+i,class:n<10?"red darken-2":"amber",style:{width:n>=10?100*n/e.length+"%":"5px","text-align":"center",height:"25px","min-width":"10px"}},[a("strong",[t._v(t._s(n))])])})),a("td",{staticClass:"blue-grey lighten-3",style:{width:100*e.lengthRemaining()/e.length-1+"%","text-align":"center",height:"25px"}},[a("strong",[t._v(" "+t._s(Math.round(100*(e.lengthRemaining()+Number.EPSILON))/100)+" ")])])],2)])])],1)}))],2):t._e()],1)],1)],1)}))],2)},h=[],g=(a("b0c0"),a("159b"),a("4de4"),function t(){Object(s["a"])(this,t),this.layout_index=-1}),p=(a("4e827"),a("a9e3"),function(){function t(e){Object(s["a"])(this,t),this.chunks=[],this.length=e}return Object(o["a"])(t,[{key:"addChunk",value:function(t){return t=Number(t),t>this.lengthRemaining()||this.chunks.push(t),!1}},{key:"lengthRemaining",value:function(){return this.length-this.lengthUsed()}},{key:"lengthUsed",value:function(){return this.chunks.reduce((function(t,e){return t+e}),0)}}]),t}()),v=function(){function t(e,a){Object(s["a"])(this,t),this.chunks=[],this.unfitedChunks=[],this.rawBars=[],this.max_length=e,this.spacing=a}return Object(o["a"])(t,[{key:"getRawBars",value:function(){return this.rawBars}},{key:"getUnfitedChunks",value:function(){return this.unfitedChunks}},{key:"addChunk",value:function(t){t>this.max_length?this.unfitedChunks.push(t):this.chunks.push(t)}},{key:"calculate",value:function(){var t=this,e=this.chunks.sort((function(t,e){return t>e?-1:1}));e.forEach((function(e){var a=!1;if(t.rawBars.forEach((function(n){!a&&n.lengthRemaining()>=e&&(n.addChunk(e),n.lengthRemaining()>0&&n.addChunk(t.spacing),a=!0)})),!a){var n=new p(t.max_length);n.addChunk(e),n.lengthRemaining()>0&&n.addChunk(t.spacing),t.rawBars.push(n)}})),console.log(this.rawBars)}}]),t}(),m=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;if(Object(s["a"])(this,a),t=e.call(this),t.defalut_max_length=3e3,t.defalut_spacing=2,t.headersBOM=[{text:"Image",value:"image",sortable:!1},{text:"Name",align:"start",value:"name"},{text:"instances",value:"instances"}],t.headers=[{text:"Image",value:"image",sortable:!1},{text:"Name",align:"start",value:"name"},{text:"instances",value:"instances"},{text:"size",value:"profile_size"},{text:"length",value:"profile_length"},{text:"layout_index",value:"layout_index"}],t.selectedItems=[],t.bomItems=[],t.profileLayouts=[],"undefined"===typeof generatedBOMTable&&"undefined"===typeof generatedBeamTable){var n=new g;n.name="60x40",n.id="0c1add5f-0229-4df7-9161-bb62a0d07fce",n.profile_size="60x40",n.image="Icon.png",n.instances=2,n.boundingX=1,n.boundingY=1,n.boundingZ=1,n.profile_length=150,t.bomItems.push(n),n=new g,n.name="60x40",n.id="1c1add5f-0229-4df7-9161-bb62a0d07fce",n.profile_size="60x40",n.image="Icon.png",n.instances=1,n.boundingX=1,n.boundingY=1,n.boundingZ=1,n.is_profile=!0,n.profile_length=200,t.bomItems.push(n),n=new g,n.name="80x40",n.id="2c1add5f-0229-4df7-9161-bb62a0d07fce",n.profile_size="80x40",n.image="Icon.png",n.instances=1,n.boundingX=1,n.boundingY=1,n.boundingZ=1,n.is_profile=!0,n.profile_length=120,t.bomItems.push(n)}else generatedBOMTable.forEach((function(e){e.layout_index=-1,t.bomItems.push(e)})),generatedBeamTable.forEach((function(e){e.layout_index=-1,t.bomItems.push(e)}));return t}return Object(o["a"])(a,[{key:"getProfiles",value:function(t){return this.bomItems.filter((function(e){return e.is_profile&&e.layout_index==t}))}},{key:"getBomItems",value:function(){return this.bomItems.filter((function(t){return!t.is_profile}))}},{key:"getLayoutBars",value:function(t){return console.log("getLayoutBars",t),this.profileLayouts[t].getRawBars()}},{key:"getUnfitedChunks",value:function(t){return this.profileLayouts[t].getUnfitedChunks()}},{key:"clearLayout",value:function(t){t.layout_index=-1}},{key:"recalculateLayout",value:function(t,e,a){console.log("recalculateLayout",t,e,a);var n=new v(e,a),i=this.getProfiles(t);i.forEach((function(t){for(var e=0;e<t.instances;e++)n.addChunk(t.profile_length)})),this.profileLayouts[t]=n,n.calculate(),console.log(n),this.$forceUpdate()}},{key:"addToLayout",value:function(){var t;console.log(this.selectedItems),0==this.profileLayouts.length?(t=new v(3e3,2),this.profileLayouts.push(t)):t=this.profileLayouts[0],this.selectedItems.forEach((function(t){t.layout_index=0})),this.selectedItems=[]}}]),a}(d["c"]);Object(u["a"])([Object(d["b"])()],m.prototype,"msg",void 0),m=Object(u["a"])([d["a"]],m);var b=m,y=b,_=a("2877"),x=a("6544"),k=a.n(x),C=a("0798"),w=a("8336"),O=a("b0af"),j=a("99d9"),I=a("cc20"),B=a("62ad"),L=a("a523"),V=a("8fea"),T=a("ce7e"),P=a("adda"),S=a("0fd9"),M=a("2fa4"),R=a("8654"),U=Object(_["a"])(y,f,h,!1,null,null,null),E=U.exports;k()(U,{VAlert:C["a"],VBtn:w["a"],VCard:O["a"],VCardActions:j["a"],VCardSubtitle:j["b"],VCardText:j["c"],VChip:I["a"],VCol:B["a"],VContainer:L["a"],VDataTable:V["a"],VDivider:T["a"],VImg:P["a"],VRow:S["a"],VSpacer:M["a"],VTextField:R["a"]});var D=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"getPath",value:function(t){return"undefined"===typeof asset_dirrectory?t:asset_dirrectory+"/"+t}}]),a}(d["c"]);D=Object(u["a"])([Object(d["a"])({components:{BomTable:E}})],D);var $=D,z=$,A=a("7496"),N=a("40dc"),F=a("553a"),X=a("f6c4"),Y=a("2a7f"),Z=Object(_["a"])(z,i,r,!1,null,null,null),H=Z.exports;k()(Z,{VApp:A["a"],VAppBar:N["a"],VCol:B["a"],VFooter:F["a"],VImg:P["a"],VMain:X["a"],VSpacer:M["a"],VToolbarTitle:Y["a"]});var J=a("f309");n["a"].use(J["a"]);var q=new J["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:q,render:function(t){return t(H)}}).$mount("#app")}});
//# sourceMappingURL=app.min.js.map